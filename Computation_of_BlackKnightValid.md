BlackKnightValid computation
============================

Remember, this is how a knight (white or black) can move:

  --- --- --- --- --- --- --- ---
                               
                               
          2       3            
      1               4        
              N                
      8               5        
          7       6            
                               
  --- --- --- --- --- --- --- ---

Suppose a black knight is on a chess board like this:

  --- --- --- --- --- --- --- ---
                               
                               
          k                    
          p       p   n        
              n   N   p        
          P   K       P        
                               
              N                
  --- --- --- --- --- --- --- ---

We will need the **Piece[B4]** and **AllBlackPieces** bitboards:

+-----------------------------------+-----------------------------------+
|   --- --- --- --- --- --- --- --- |   --- --- --- --- --- --- --- --- |
|   0   0   0   0   0   0   0   0   |   0   0   0   0   0   0   0   0   |
|   0   0   0   0   0   0   0   0   |   0   0   0   0   0   0   0   0   |
|   0   0   0   0   0   0   0   0   |   0   0   1   0   0   0   0   0   |
|   0   0   0   0   0   0   0   0   |   0   0   1   0   1   1   0   0   |
|   0   0   0   1   0   0   0   0   |   0   0   0   1   0   1   0   0   |
|   0   0   0   0   0   0   0   0   |   0   0   0   0   0   0   0   0   |
|   0   0   0   0   0   0   0   0   |   0   0   0   0   0   0   0   0   |
|   0   0   0   0   0   0   0   0   |   0   0   0   0   0   0   0   0   |
|   --- --- --- --- --- --- --- --- |   --- --- --- --- --- --- --- --- |
+-----------------------------------+-----------------------------------+

Now let's perform the function call:
BlackKnightValid = compute_knight(Piece[B4], AllBlackPieces,
lookup_tables);

    /* LookupTables is a structure which contains all precomputed lookup tables */
    Bitboard compute_knight(Bitboard knight_loc, Bitboard obn_side, LookupTables *tbls)
    {
        /* we can ignore the rank clipping since the overflow/underflow with
            respect to rank simply vanishes. We only care about the file
            overflow/underflow which is much more work for a knight. */

        spot_1_clip = tbls->ClearFile[FILE_A] & tbls->ClearFile[FILE_B];

+-------------+-------------+-------------+-------------+-------------+
|   --- --- - | **AND**     |   --- --- - | **=**       |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   --- --- - |             |   --- --- - |             |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
+-------------+-------------+-------------+-------------+-------------+

        spot_2_clip = tbls->ClearFile[FILE_A];

+-----------------------+-----------------------+-----------------------+
|   --- --- --- --- --- | **=**                 |   --- --- --- --- --- |
|  --- --- ---          |                       |  --- --- ---          |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   --- --- --- --- --- |                       |   --- --- --- --- --- |
|  --- --- ---          |                       |  --- --- ---          |
+-----------------------+-----------------------+-----------------------+

        spot_3_clip = tbls->ClearFile[FILE_H];

+-----------------------+-----------------------+-----------------------+
|   --- --- --- --- --- | **=**                 |   --- --- --- --- --- |
|  --- --- ---          |                       |  --- --- ---          |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   --- --- --- --- --- |                       |   --- --- --- --- --- |
|  --- --- ---          |                       |  --- --- ---          |
+-----------------------+-----------------------+-----------------------+

        spot_4_clip = tbls->ClearFile[FILE_H] & tbls->ClearFile[FILE_G];

+-------------+-------------+-------------+-------------+-------------+
|   --- --- - | **AND**     |   --- --- - | **=**       |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   --- --- - |             |   --- --- - |             |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
+-------------+-------------+-------------+-------------+-------------+

        spot_5_clip = tbls->ClearFile[FILE_H] & tbls->ClearFile[FILE_G];

+-------------+-------------+-------------+-------------+-------------+
|   --- --- - | **AND**     |   --- --- - | **=**       |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   1   1   1 |             |   1   1   1 |             |   1   1   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   0   |             | 1   0   1   |             | 1   0   0   |
|   --- --- - |             |   --- --- - |             |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
+-------------+-------------+-------------+-------------+-------------+

        spot_6_clip = tbls->ClearFile[FILE_H];

+-----------------------+-----------------------+-----------------------+
|   --- --- --- --- --- | **=**                 |   --- --- --- --- --- |
|  --- --- ---          |                       |  --- --- ---          |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   1   1   1   1   1   |                       |   1   1   1   1   1   |
|  1   1   0            |                       |  1   1   0            |
|   --- --- --- --- --- |                       |   --- --- --- --- --- |
|  --- --- ---          |                       |  --- --- ---          |
+-----------------------+-----------------------+-----------------------+

        spot_7_clip = tbls->ClearFile[FILE_A];

+-----------------------+-----------------------+-----------------------+
|   --- --- --- --- --- | **=**                 |   --- --- --- --- --- |
|  --- --- ---          |                       |  --- --- ---          |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   0   1   1   1   1   |                       |   0   1   1   1   1   |
|  1   1   1            |                       |  1   1   1            |
|   --- --- --- --- --- |                       |   --- --- --- --- --- |
|  --- --- ---          |                       |  --- --- ---          |
+-----------------------+-----------------------+-----------------------+

        spot_8_clip = tbls->ClearFile[FILE_A] & tbls->ClearFile[FILE_B];

+-------------+-------------+-------------+-------------+-------------+
|   --- --- - | **AND**     |   --- --- - | **=**       |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   0   1   1 |             |   1   0   1 |             |   0   0   1 |
|    1   1    |             |    1   1    |             |    1   1    |
| 1   1   1   |             | 1   1   1   |             | 1   1   1   |
|   --- --- - |             |   --- --- - |             |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
+-------------+-------------+-------------+-------------+-------------+

        /* The clipping masks we just created will be used to ensure that no
            under or overflow positions are computed when calculating the
            possible moves of the knight in certain files. */

        spot_1 = (knight_loc & spot_1_clip) << 6;

+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| **(** |   --- | **AND |   --- | **)** | **< | **6** | **=** |   --- |
|       |  ---  | **    |  ---  |       | <**   |       |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  1    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   1 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   --- |       |   --- |       |       |       |       |   --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
+-------+-------+-------+-------+-------+-------+-------+-------+-------+

        spot_2 = (knight_loc & spot_2_clip) << 15;

+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| **(** |   --- | **AND |   --- | **)** | **< | **15* | **=** |   --- |
|       |  ---  | **    |  ---  |       | <**   | *     |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 1   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   1 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   --- |       |   --- |       |       |       |       |   --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
+-------+-------+-------+-------+-------+-------+-------+-------+-------+

        spot_3 = (knight_loc & spot_3_clip) << 17;

+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| **(** |   --- | **AND |   --- | **)** | **< | **17* | **=** |   --- |
|       |  ---  | **    |  ---  |       | <**   | *     |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    1  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   1 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   --- |       |   --- |       |       |       |       |   --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
+-------+-------+-------+-------+-------+-------+-------+-------+-------+

        spot_4 = (knight_loc & spot_4_clip) << 10;

+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| **(** |   --- | **AND |   --- | **)** | **< | **10* | **=** |   --- |
|       |  ---  | **    |  ---  |       | <**   | *     |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   1   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   1 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   --- |       |   --- |       |       |       |       |   --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
+-------+-------+-------+-------+-------+-------+-------+-------+-------+

        spot_5 = (knight_loc & spot_5_clip) >> 6;

+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| **(** |   --- | **AND |   --- | **)** | **> | **6** | **=** |   --- |
|       |  ---  | **    |  ---  |       | >**   |       |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   1 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   1   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   --- |       |   --- |       |       |       |       |   --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
+-------+-------+-------+-------+-------+-------+-------+-------+-------+

        spot_6 = (knight_loc & spot_6_clip) >> 15;

+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| **(** |   --- | **AND |   --- | **)** | **> | **15* | **=** |   --- |
|       |  ---  | **    |  ---  |       | >**   | *     |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   1 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    1  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 0     |       |       |       |       | 0     |
|       |   --- |       |   --- |       |       |       |       |   --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
+-------+-------+-------+-------+-------+-------+-------+-------+-------+

        spot_7 = (knight_loc & spot_7_clip) >> 17;

+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| **(** |   --- | **AND |   --- | **)** | **> | **17* | **=** |   --- |
|       |  ---  | **    |  ---  |       | >**   | *     |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   1 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 1   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   --- |       |   --- |       |       |       |       |   --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
+-------+-------+-------+-------+-------+-------+-------+-------+-------+

        spot_8 = (knight_loc & spot_8_clip) >> 10;

+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| **(** |   --- | **AND |   --- | **)** | **> | **10* | **=** |   --- |
|       |  ---  | **    |  ---  |       | >**   | *     |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   1 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  1    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   0   |       |   0   |       |       |       |       |   0   |
|       |  0    |       |  0    |       |       |       |       |  0    |
|       | 0   0 |       | 1   1 |       |       |       |       | 0   0 |
|       |    0  |       |    1  |       |       |       |       |    0  |
|       |   0   |       |   1   |       |       |       |       |   0   |
|       |  0    |       |  1    |       |       |       |       |  0    |
|       | 0     |       | 1     |       |       |       |       | 0     |
|       |   --- |       |   --- |       |       |       |       |   --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | --- - |       | --- - |       |       |       |       | --- - |
|       | -- -- |       | -- -- |       |       |       |       | -- -- |
|       | - --- |       | - --- |       |       |       |       | - --- |
|       |  ---  |       |  ---  |       |       |       |       |  ---  |
|       | ---   |       | ---   |       |       |       |       | ---   |
+-------+-------+-------+-------+-------+-------+-------+-------+-------+

        knight_moves = spot_1 | spot_2 | spot_3 | spot_4 | spot_5 | spot_6 |
                        spot_7 | spot_8;

+-----------+-----------+-----------+-----------+-----------+-----------+
|   --- --- | **OR**    |   --- --- | **OR**    |   --- --- | **OR**    |
|  --- ---  |           |  --- ---  |           |  --- ---  |           |
| --- --- - |           | --- --- - |           | --- --- - |           |
| -- ---    |           | -- ---    |           | -- ---    |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  1   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 1   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   1   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   --- --- |           |   --- --- |           |   --- --- |           |
|  --- ---  |           |  --- ---  |           |  --- ---  |           |
| --- --- - |           | --- --- - |           | --- --- - |           |
| -- ---    |           | -- ---    |           | -- ---    |           |
+-----------+-----------+-----------+-----------+-----------+-----------+

+-----------+-----------+-----------+-----------+-----------+-----------+
|   --- --- | **OR**    |   --- --- | **OR**    |   --- --- | **OR**    |
|  --- ---  |           |  --- ---  |           |  --- ---  |           |
| --- --- - |           | --- --- - |           | --- --- - |           |
| -- ---    |           | -- ---    |           | -- ---    |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   1   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   1   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 1   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   0   0   |           |   0   0   |           |   0   0   |           |
|  0   0    |           |  0   0    |           |  0   0    |           |
| 0   0   0 |           | 0   0   0 |           | 0   0   0 |           |
|    0      |           |    0      |           |    0      |           |
|   --- --- |           |   --- --- |           |   --- --- |           |
|  --- ---  |           |  --- ---  |           |  --- ---  |           |
| --- --- - |           | --- --- - |           | --- --- - |           |
| -- ---    |           | -- ---    |           | -- ---    |           |
+-----------+-----------+-----------+-----------+-----------+-----------+

+-------------+-------------+-------------+-------------+-------------+
|   --- --- - | **OR**      |   --- --- - | **=**       |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
|   0   0   0 |             |   0   0   0 |             |   0   0   0 |
|    0   0    |             |    0   0    |             |    0   0    |
| 0   0   0   |             | 0   0   0   |             | 0   0   0   |
|   0   0   0 |             |   0   0   0 |             |   0   0   0 |
|    0   0    |             |    0   0    |             |    0   0    |
| 0   0   0   |             | 0   0   0   |             | 0   0   0   |
|   0   0   0 |             |   0   0   0 |             |   0   0   1 |
|    0   0    |             |    0   0    |             |    0   1    |
| 0   0   0   |             | 0   0   0   |             | 0   0   0   |
|   0   0   0 |             |   0   0   0 |             |   0   1   0 |
|    0   0    |             |    0   0    |             |    0   0    |
| 0   0   0   |             | 0   0   0   |             | 1   0   0   |
|   0   0   0 |             |   0   0   0 |             |   0   0   0 |
|    0   0    |             |    0   0    |             |    0   0    |
| 0   0   0   |             | 0   0   0   |             | 0   0   0   |
|   0   0   0 |             |   0   1   0 |             |   0   1   0 |
|    0   0    |             |    0   0    |             |    0   0    |
| 0   0   0   |             | 0   0   0   |             | 1   0   0   |
|   0   0   1 |             |   0   0   0 |             |   0   0   1 |
|    0   0    |             |    0   0    |             |    0   1    |
| 0   0   0   |             | 0   0   0   |             | 0   0   0   |
|   0   0   0 |             |   0   0   0 |             |   0   0   0 |
|    0   0    |             |    0   0    |             |    0   0    |
| 0   0   0   |             | 0   0   0   |             | 0   0   0   |
|   --- --- - |             |   --- --- - |             |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
+-------------+-------------+-------------+-------------+-------------+

        /* compute only the places where the knight can move and attack. The
            caller will determine if this is a white or black night. */
        KnightValid = knight_moves & ~own_side;

+-------------+-------------+-------------+-------------+-------------+
|   --- --- - | **AND**     |   --- --- - | **=**       |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
|   0   0   0 |             |   1   1   1 |             |   0   0   0 |
|    0   0    |             |    1   1    |             |    0   0    |
| 0   0   0   |             | 1   1   1   |             | 0   0   0   |
|   0   0   0 |             |   1   1   1 |             |   0   0   0 |
|    0   0    |             |    1   1    |             |    0   0    |
| 0   0   0   |             | 1   1   1   |             | 0   0   0   |
|   0   0   1 |             |   1   1   0 |             |   0   0   0 |
|    0   1    |             |    1   1    |             |    0   1    |
| 0   0   0   |             | 1   1   1   |             | 0   0   0   |
|   0   1   0 |             |   1   1   0 |             |   0   1   0 |
|    0   0    |             |    1   0    |             |    0   0    |
| 1   0   0   |             | 0   1   1   |             | 0   0   0   |
|   0   0   0 |             |   1   1   1 |             |   0   0   0 |
|    0   0    |             |    0   1    |             |    0   0    |
| 0   0   0   |             | 0   1   1   |             | 0   0   0   |
|   0   1   0 |             |   1   1   1 |             |   0   1   0 |
|    0   0    |             |    1   1    |             |    0   0    |
| 1   0   0   |             | 1   1   1   |             | 1   0   0   |
|   0   0   1 |             |   1   1   1 |             |   0   0   1 |
|    0   1    |             |    1   1    |             |    0   1    |
| 0   0   0   |             | 1   1   1   |             | 0   0   0   |
|   0   0   0 |             |   1   1   1 |             |   0   0   0 |
|    0   0    |             |    1   1    |             |    0   0    |
| 0   0   0   |             | 1   1   1   |             | 0   0   0   |
|   --- --- - |             |   --- --- - |             |   --- --- - |
| -- --- ---  |             | -- --- ---  |             | -- --- ---  |
| --- --- --- |             | --- --- --- |             | --- --- --- |
+-------------+-------------+-------------+-------------+-------------+

        return KnightValid;

+-----------------------------------+-----------------------------------+
| **return**                        |   --- --- --- --- --- --- --- --- |
|                                   |   0   0   0   0   0   0   0   0   |
|                                   |   0   0   0   0   0   0   0   0   |
|                                   |   0   0   0   0   1   0   0   0   |
|                                   |   0   1   0   0   0   0   0   0   |
|                                   |   0   0   0   0   0   0   0   0   |
|                                   |   0   1   0   0   0   1   0   0   |
|                                   |   0   0   1   0   1   0   0   0   |
|                                   |   0   0   0   0   0   0   0   0   |
|                                   |   --- --- --- --- --- --- --- --- |
+-----------------------------------+-----------------------------------+

    }
